<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World - WebGL2 æ¸²æŸ“å¼•æ“</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 20px;
        }

        canvas {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            display: block;
        }

        .info {
            margin-top: 15px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 6px;
            font-size: 14px;
            color: #333;
        }

        h1 {
            color: white;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <h1>ğŸ¨ Hello World - WebGL2 æ¸²æŸ“å¼•æ“</h1>
    <div id="container">
        <canvas id="canvas" width="800" height="600"></canvas>
        <div class="info">
            <strong>åŠŸèƒ½æ¼”ç¤ºï¼š</strong>
            <ul>
                <li>âœ“ WebGL2 ä¸Šä¸‹æ–‡åˆå§‹åŒ–</li>
                <li>âœ“ æ¸²æŸ“ä¸»å¾ªç¯å¯åŠ¨</li>
                <li>âœ“ ç®€å•æ¸²æŸ“èŠ‚ç‚¹</li>
                <li>âœ“ å®æ—¶å¸§ç‡æ˜¾ç¤º</li>
            </ul>
        </div>
    </div>

    <script type="module">
        import { Renderer } from '../../lib/index.js';

        // åˆ›å»ºæ¸²æŸ“å™¨
        const renderer = new Renderer({
            targetFPS: 60,
            enableProfiling: true
        });

        // è·å–ç”»å¸ƒ
        const canvas = document.getElementById('canvas');

        try {
            // é™„åŠ åˆ°ç”»å¸ƒ
            renderer.attachTo(canvas);

            // æ·»åŠ ä¸€ä¸ªç®€å•çš„æ¸²æŸ“èŠ‚ç‚¹
            const helloNode = {
                id: 'hello-world',
                priority: 10,
                visible: true,
                render: (renderer) => {
                    const gl = renderer.gl;

                    // æ¸…ç©ºç”»å¸ƒä¸ºè“è‰²
                    gl.clearColor(0.2, 0.4, 0.8, 1.0);
                    gl.clear(gl.COLOR_BUFFER_BIT);

                    // ç»˜åˆ¶ä¸€ä¸ªç®€å•çš„çŸ©å½¢ï¼ˆæ¨¡æ‹Ÿï¼‰
                    // æ³¨æ„ï¼šå®é™… WebGL ç»˜åˆ¶éœ€è¦ç€è‰²å™¨å’Œé¡¶ç‚¹æ•°æ®
                    // è¿™é‡Œåªæ˜¯æ¼”ç¤ºæ¸²æŸ“å¾ªç¯çš„å·¥ä½œæ–¹å¼
                }
            };

            renderer.addNode(helloNode);

            // å¯åŠ¨æ¸²æŸ“å¾ªç¯
            renderer.start();

            console.log('âœ… æ¸²æŸ“å¼•æ“å¯åŠ¨æˆåŠŸï¼');

            // æ¯ 1000ms è¾“å‡ºç»Ÿè®¡ä¿¡æ¯
            setInterval(() => {
                const stats = renderer.getStats();
                if (stats) {
                    console.log(`FPS: ${stats.fps}, èŠ‚ç‚¹æ•°: ${stats.nodeCount}, èµ„æºæ•°: ${stats.resourceCount}`);
                }
            }, 1000);

        } catch (error) {
            console.error('âŒ åˆå§‹åŒ–å¤±è´¥:', error);
            alert('WebGL2 ä¸è¢«æ”¯æŒï¼Œè¯·ä½¿ç”¨ç°ä»£æµè§ˆå™¨');
        }
    </script>
</body>
</html>
